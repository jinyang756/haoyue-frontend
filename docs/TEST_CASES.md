# API测试和调试工具模块测试用例

## 1. 请求配置测试用例

### TC-REQ-001: URL输入验证

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 在URL输入框中输入"invalid-url"
  2. 点击发送按钮
- **预期结果**:
  - 显示错误提示"请输入有效的URL"
  - 请求不发送
  - 发送按钮保持禁用状态直到输入有效URL

### TC-REQ-002: HTTP方法选择

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 选择"POST"方法
  2. 在URL输入框中输入"<https://httpbin.org/post>"
  3. 点击发送按钮
- **预期结果**:
  - 请求使用POST方法发送
  - 响应中显示"method": "POST"

### TC-REQ-003: Headers配置

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 点击"Add Header"按钮
  2. 输入Header名称"X-Custom-Header"
  3. 输入Header值"test-value"
  4. 发送GET请求到"<https://httpbin.org/headers>"
- **预期结果**:
  - 请求包含自定义Header
  - 响应中显示自定义Header

### TC-REQ-004: Query参数配置

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 点击"Add Query Param"按钮
  2. 输入参数名"test"
  3. 输入参数值"123"
  4. 发送GET请求到"<https://httpbin.org/get>"
- **预期结果**:
  - 请求URL包含"?test=123"
  - 响应中显示查询参数

### TC-REQ-005: Request Body编辑

- **前置条件**: 页面已加载，选择POST方法
- **测试步骤**:
  1. 在Body编辑器中输入{"name": "test", "value": 123}
  2. 设置Content-Type为"application/json"
  3. 发送请求到"<https://httpbin.org/post>"
- **预期结果**:
  - 请求包含正确的JSON Body数据
  - 响应中显示发送的JSON数据

## 2. 响应展示测试用例

### TC-RES-001: 响应状态码显示

- **前置条件**: 已发送请求
- **测试步骤**:
  1. 发送GET请求到"<https://httpbin.org/status/200>"
  2. 查看响应区域
- **预期结果**:
  - 显示状态码"200"
  - 显示状态文本"OK"

### TC-RES-002: 响应时间计算

- **前置条件**: 已发送请求
- **测试步骤**:
  1. 发送GET请求到"<https://httpbin.org/get>"
  2. 查看响应区域的时间显示
- **预期结果**:
  - 显示响应时间（毫秒）
  - 响应时间大于0且小于10000毫秒

### TC-RES-003: 响应头展示

- **前置条件**: 已发送请求
- **测试步骤**:
  1. 发送GET请求到"<https://httpbin.org/get>"
  2. 查看响应头区域
- **预期结果**:
  - 显示Content-Type、Content-Length等响应头
  - 响应头按字母顺序排列

### TC-RES-004: 响应体格式化

- **前置条件**: 已发送请求，返回JSON响应
- **测试步骤**:
  1. 发送GET请求到"<https://httpbin.org/json>"
  2. 查看响应体区域
- **预期结果**:
  - JSON响应正确格式化显示
  - 支持展开/折叠对象和数组

### TC-RES-005: 错误响应处理

- **前置条件**: 准备发送错误请求
- **测试步骤**:
  1. 发送GET请求到"<https://httpbin.org/status/404>"
  2. 查看响应区域
- **预期结果**:
  - 显示状态码"404"
  - 显示状态文本"Not Found"
  - 响应体区域显示错误信息

## 3. 历史记录测试用例

### TC-HIS-001: 历史记录保存

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 发送GET请求到"<https://httpbin.org/get>"
  2. 查看历史记录面板
- **预期结果**:
  - 历史记录面板显示新的记录
  - 记录包含请求URL、方法和时间

### TC-HIS-002: 历史记录查看

- **前置条件**: 存在历史记录
- **测试步骤**:
  1. 点击历史记录项
- **预期结果**:
  - 请求配置区域显示历史请求的详细信息
  - URL、方法、Headers、Body等配置正确还原

### TC-HIS-003: 历史记录重新执行

- **前置条件**: 存在历史记录
- **测试步骤**:
  1. 点击历史记录项的"重新执行"按钮
- **预期结果**:
  - 重新发送历史请求
  - 显示新的响应结果
  - 新的响应结果添加到历史记录顶部

### TC-HIS-004: 历史记录删除

- **前置条件**: 存在历史记录
- **测试步骤**:
  1. 点击历史记录项的"删除"按钮
- **预期结果**:
  - 历史记录从列表中移除
  - 面板更新显示剩余记录

## 4. 环境管理测试用例

### TC-ENV-001: 环境配置创建

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 打开环境管理面板
  2. 点击"添加环境"按钮
  3. 输入环境名称"测试环境"
  4. 输入Base URL"<https://test-api.example.com>"
  5. 保存配置
- **预期结果**:
  - 新环境出现在环境列表中
  - 环境名称和Base URL正确显示

### TC-ENV-002: 环境切换

- **前置条件**: 存在多个环境配置
- **测试步骤**:
  1. 选择"测试环境"
  2. 在URL输入框中输入"/users"
  3. 发送GET请求
- **预期结果**:
  - 请求发送到"<https://test-api.example.com/users>"
  - 响应区域显示请求URL

### TC-ENV-003: 环境变量替换

- **前置条件**: 配置环境变量
- **测试步骤**:
  1. 在环境配置中添加变量"API_VERSION"="v1"
  2. 在URL中输入"<https://api.example.com/{{API_VERSION}}/users>"
  3. 发送GET请求
- **预期结果**:
  - 请求发送到"<https://api.example.com/v1/users>"
  - 环境变量被正确替换

## 5. 边界条件测试用例

### TC-BND-001: 空请求测试

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 不配置任何请求参数
  2. 点击发送按钮
- **预期结果**:
  - 显示错误提示"请输入请求URL"
  - 请求不发送

### TC-BND-002: 超大响应处理

- **前置条件**: 准备接收大响应
- **测试步骤**:
  1. 发送GET请求到返回大JSON的端点
- **预期结果**:
  - 正确显示响应内容
  - 不出现页面卡顿或崩溃

### TC-BND-003: 网络超时处理

- **前置条件**: 准备测试超时
- **测试步骤**:
  1. 发送GET请求到超时端点
- **预期结果**:
  - 显示超时错误信息
  - 错误信息包含超时时间

## 6. 用户界面测试用例

### TC-UI-001: 响应式布局

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 调整浏览器窗口大小
- **预期结果**:
  - 界面元素正确重新排列
  - 文本和按钮保持可读可点击

### TC-UI-002: 加载状态显示

- **前置条件**: 准备发送请求
- **测试步骤**:
  1. 发送需要较长时间的请求
- **预期结果**:
  - 显示加载指示器
  - 发送按钮显示为禁用状态
  - 显示"正在发送请求..."提示

### TC-UI-003: 错误提示显示

- **前置条件**: 准备发送错误请求
- **测试步骤**:
  1. 发送会导致错误的请求
- **预期结果**:
  - 显示错误消息提示
  - 错误消息清晰描述问题
  - 界面保持可用状态

## 7. 性能测试用例

### TC-PER-001: 多次请求性能

- **前置条件**: 页面已加载
- **测试步骤**:
  1. 连续发送10个请求
- **预期结果**:
  - 所有请求正确处理
  - 响应时间保持稳定
  - 内存使用不持续增长

### TC-PER-002: 历史记录性能

- **前置条件**: 存在大量历史记录
- **测试步骤**:
  1. 查看包含100条记录的历史面板
- **预期结果**:
  - 面板快速加载
  - 滚动流畅
  - 搜索功能响应迅速

## 8. 安全测试用例

### TC-SEC-001: XSS防护

- **前置条件**: 准备测试XSS攻击
- **测试步骤**:
  1. 在响应中注入恶意脚本
- **预期结果**:
  - 脚本不被执行
  - 内容被正确转义显示

### TC-SEC-002: 敏感信息保护

- **前置条件**: 配置包含敏感信息的请求
- **测试步骤**:
  1. 在Headers中添加Authorization头
  2. 保存到历史记录
- **预期结果**:
  - 历史记录中敏感信息被隐藏或加密
  - 重新执行时正确还原敏感信息
